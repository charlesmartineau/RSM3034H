<!DOCTYPE html>
<html lang="en"><head>
<script src="lecture_02_files/libs/clipboard/clipboard.min.js"></script>
<script src="lecture_02_files/libs/quarto-html/tabby.min.js"></script>
<script src="lecture_02_files/libs/quarto-html/popper.min.js"></script>
<script src="lecture_02_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="lecture_02_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lecture_02_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="lecture_02_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="lecture_02_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.55">

  <meta name="author" content="Charles Martineau">
  <title>Lecture 2: Introduction to Behavioral Finance &amp; Decision-Making Under Uncertainty</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="lecture_02_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="lecture_02_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="lecture_02_files/libs/revealjs/dist/theme/quarto.css">
  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">
  <link href="lecture_02_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="lecture_02_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="lecture_02_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="lecture_02_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="lecture_02_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="lecture_02_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&amp;family=Noto+Sans:ital,wght@0,100..900;1,100..900&amp;family=Noto+Serif:ital,wght@0,100..900;1,100..900&amp;family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Lecture 2:<br><span style="color:#045282">Introduction to Behavioral Finance &amp; Decision-Making Under Uncertainty</span></h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Charles Martineau 
</div>
        <p class="quarto-title-affiliation">
            UTSC and Rotman | <a href="https://www.charlesmartineau.com">www.charlesmartineau.com</a>
          </p>
    </div>
</div>

</section>
<section id="neoclassical-economics-and-finance" class="slide level2">
<h2>Neoclassical Economics and Finance</h2>
<div style="height: 2em;">

</div>
<p>When we talk about behavioral finance, we are comparing to theories in neoclassical economics and finance (that you learn in most other courses).</p>
<div style="height: 2em;">

</div>
<p>It is important to understand the “benchmark” or the “target” of behavioral finance, that is, neoclassical economics and finance theories to understand <strong>where behavioral finance comes from.</strong></p>
</section>
<section id="classical-finance-benchmark" class="slide level2">
<h2>Classical Finance Benchmark</h2>
<div style="height: 2em;">

</div>
<p>In standard neo-classical economics, researchers usually assume that people are <strong>rational</strong>.</p>
<p>What does it mean to be “rational”?</p>
<div style="height: 2em;">

</div>
<p>Rationality has three layers:</p>
<ul>
<li>People have <strong>rational preference</strong> across possible outcomes or states of nature.
<ul>
<li>Order-preserving preferences, completeness, transitivity.</li>
</ul></li>
<li>People <strong>maximize their utility</strong> and firms maximize profits under constraints</li>
<li>People make <strong>decisions</strong> based on all relevant information</li>
</ul>
</section>
<section id="utility-maximization" class="slide level2">
<h2>Utility Maximization</h2>
<div style="height: 2em;">

</div>
<p>Utility function: <span class="math inline">U(w)</span></p>
<p><strong>Max</strong> <span class="math inline">U(w)</span> subject to <span class="math inline">f(w)=c</span> (some constraints)</p>
<ul>
<li><span class="math inline">w</span> corresponds to endowment. You consume endowment to get utility.</li>
</ul>
</section>
<section id="standard-portfolio-theory-basics" class="slide level2">
<h2>Standard portfolio theory basics</h2>
<div>
<ul>
<li class="fragment">An investor has initial wealth <span class="math inline">W_0</span> to invest in <span class="math inline">N</span> risky assets and a risk-free asset.</li>
<li class="fragment">The investor allocates a fraction <span class="math inline">x_i</span> of his wealth in asset <span class="math inline">i</span> <span class="math inline">(i=1,...,N)</span> and the remaining fraction <span class="math inline">1-\sum_{i=1}^N x_i</span> in the risk-free asset.</li>
<li class="fragment">The return of asset <span class="math inline">i</span> is a random variable <span class="math inline">r_i</span> with expected return <span class="math inline">E[r_i]</span> and variance <span class="math inline">\sigma_i^2</span>. The covariance between asset <span class="math inline">i</span> and asset <span class="math inline">j</span> is <span class="math inline">\sigma_{ij}</span>.</li>
<li class="fragment">The investor choose weights <span class="math inline">x_i</span> to maximize the <span class="math inline">E[U]</span> of his wealth.</li>
<li class="fragment">The investor’s wealth at the end of the period is given by:
<ul>
<li class="fragment"><span class="math inline">W = W_0 \left( 1 + \sum_{i=1}^N x_i r_i + \left(1 - \sum_{i=1}^N x_i\right) r_f \right),</span> <span class="math inline">rf</span>=risk-free rate.</li>
</ul></li>
<li class="fragment">The investor’s optimization problem can be formulated as:
<ul>
<li class="fragment"><strong>Maximize</strong> <span class="math inline">E[U(W)]</span> subject to <span class="math inline">\sum_{i=1}^N x_i = 1</span> and <span class="math inline">x_i \geq 0</span> for all <span class="math inline">i</span>.</li>
</ul></li>
<li class="fragment">The solution gives the optimal portfolio weights <span class="math inline">x_i^*</span> that maximize expected utility given their risk preferences and the characteristics of the assets.</li>
</ul>
</div>
</section>
<section id="utility-maximization-1" class="slide level2">
<h2>Utility Maximization</h2>
<p>The solution to the portfolio optimization problem gives us the <strong>efficient frontier</strong>:</p>

<img data-src="version_00/Figures/frontier.jpg" style="width:70.0%" class="r-stretch"></section>
<section id="expected-utility-theory" class="slide level2">
<h2>Expected Utility Theory</h2>
<p><strong>Developed by John von Neumann and Oskar Morgenstern</strong> <img data-src="version_00/Figures/neumman.png" style="width:70.0%"></p>
</section>
<section id="expected-utility" class="slide level2">
<h2>Expected Utility</h2>
<div style="height: 2em;">

</div>
<h3 id="risk-vs.-uncertaintyambiguity">Risk vs.&nbsp;Uncertainty/Ambiguity</h3>
<ul>
<li><em>Risk</em>: measurable random states of outcomes with known probability distribution</li>
<li><em>Uncertainty/Ambiguity</em>: random states of outcomes with unknown probability distribution or unknown states</li>
</ul>
<p>Expected Utility is set up to deal with risk, not uncertainty.</p>
<ul>
<li><span class="math inline">E[U(w)] = \sum_{i=1}^N p_i U(w_i) =</span> Expected utility</li>
<li><span class="math inline">p_i =</span> probability of state <span class="math inline">i (i =1...N)</span></li>
<li><span class="math inline">U(w_i)=</span> Utility of getting outcome <span class="math inline">w_i</span> in state <span class="math inline">i</span></li>
</ul>
</section>
<section id="example-of-expected-utility-function" class="slide level2">
<h2>Example of Expected Utility Function</h2>
<p>There is a lottery with two possible outcomes:</p>
<ul>
<li><strong>Outcome 1:</strong> Payoff <span class="math inline">=100,</span> with probability <span class="math inline">40\%</span></li>
<li><strong>Outcome 2:</strong> Payoff= <span class="math inline">200,</span> with probability <span class="math inline">60\%</span></li>
<li>agent has a log utility: <span class="math inline">U(w) = \ln(w)</span></li>
</ul>
<p>Will this agent prefer this lottery to a payoff of <span class="math inline">(200 × 0.6 + 100 × 0.4) = 160</span> without any uncertainty?</p>
<p><span class="math inline">E[U(w)] = 0.4 × \ln(100) + 0.6 × \ln(200) = 5.02 &lt;</span></p>
<p><span class="math inline">U(E(w)) = \ln(200 × 0.6 + 100 × 0.4) = 5.08</span></p>
<p><span class="math inline">\rightarrow</span> Therefore, the agent will prefer $160 certain payment than this lottery.</p>
</section>
<section id="risk-attitude" class="slide level2">
<h2>Risk Attitude</h2>
<div style="height: 2em;">

</div>
<p><strong>Risk Attitude:</strong> whether an agent asks for additional compensation of returns for carrying more risks</p>
<p><strong>Certainty equivalent wealth (</strong> <span class="math inline">CE</span> <strong>):</strong> the wealth level that leads agents to be indifferent between the lottery and a certain wealth level: <span class="math inline">E[U(w)] = U(CE)</span></p>
<p>In the previous example, <span class="math inline">U(CE) = E[U(w)]= 5.02</span> hence, <span class="math inline">CE=151.41</span></p>
<ul>
<li>Risk Averse: <span class="math inline">E[U(w)] &lt; U(E[w]);</span> or <span class="math inline">CE &lt; E[w]</span>; or concave utility</li>
<li>Risk Seeking: <span class="math inline">E[U(w)] &gt; U(E[w]);</span> or <span class="math inline">CE &gt; E[w]</span>; or convex utility</li>
<li>Risk Neutral: <span class="math inline">E[U(w)] = U(E[w]);</span> or <span class="math inline">CE = E[w]</span>; or linear utility</li>
</ul>
</section>
<section id="utility-function" class="slide level2">
<h2>Utility Function</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Risk Averse:</p>
<ul>
<li><span class="math inline">E[U(w)] &lt; U(E[w])</span></li>
<li><span class="math inline">CE &lt; E[w]</span></li>
</ul>
<p><strong>RP stands for Risk Premium</strong></p>
<ul>
<li><span class="math inline">⇒ RP=E(W)-CE.</span></li>
<li>When RP is positive, it means that this person dislike risks. She requires an additional payoff to take risk.</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="version_00/Figures/Riskpremium1.png" class="absolute" style="top: 150px; right: 0px; width: 50%; "></p>
</div></div>
</section>
<section id="lets-revise-the-previous-graph-with-numbers" class="slide level2">
<h2>Let’s revise the previous graph with numbers</h2>
<div style="height: 2em;">

</div>
<p>What is the <span class="math inline">\textcolor{red}{red\; dot}</span>?</p>
<ul>
<li>Imagine that you draw a straight line between <span class="math inline">U(W_0)</span> and <span class="math inline">U(W_1)</span> (starting from the curved line). It is the average using 0.40 and 0.60 as weights.</li>
</ul>
<p>The y-axis value for the <span class="math inline">\textcolor{red}{red\; dot}</span> and <span class="math inline">\textcolor{green}{green\; dot}</span> is equal to:</p>
<ul>
<li><span class="math inline">E(U(W))=0.40\ln(100)+0.60\ln(200)=5.02</span></li>
</ul>
<p>y-axis value for the <span class="math inline">\textcolor{blue}{blue\; dot}</span> is</p>
<ul>
<li><span class="math inline">U(E(W))=\ln(0.40\times100+0.60\times200)=5.08</span></li>
</ul>
<p>x-axis value for the <span class="math inline">\textcolor{green}{green\; dot}</span> is</p>
<ul>
<li>the inverse of <span class="math inline">E(U(W))</span>, i.e., <span class="math inline">\exp(5.02)=151.41</span></li>
</ul>
</section>
<section id="utility-function-1" class="slide level2">
<h2>Utility Function</h2>
<div style="height: 2em;">

</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>Risk Seeking:</p>
<ul>
<li><span class="math inline">E[U(w)] &gt; U(E[w])</span></li>
<li><span class="math inline">CE &gt; E[w]</span></li>
<li>What kind utility function is this? E.g., <span class="math inline">w^2</span> or <span class="math inline">w^{1.5}</span></li>
<li>The <strong>risk premium in this case negative</strong>. That persons likes to take risks and is willing to pay to to enjoy the risk.</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="version_00/Figures/Riskpremium3.png" class="absolute" style="top: 150px; right: 0px; width: 50%; "></p>
</div></div>
</section>
<section id="utility-function-2" class="slide level2">
<h2>Utility Function</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Risk Neutral:</p>
<ul>
<li><span class="math inline">E[U(w)] = U(E[w])</span></li>
<li><span class="math inline">CE = E[w]</span></li>
<li>Someone that is indifferent to risk. Only cares about the expected return.</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="version_00/Figures/Riskpremium2.png" class="absolute" style="top: 150px; right: 0px; width: 50%; "></p>
</div></div>
</section>
<section id="violations-of-expected-utility-theory-and-its-implication-in-financial-market" class="slide level2">
<h2>Violations of Expected Utility Theory and its Implication in Financial Market</h2>
<div style="height: 2em;">

</div>
<ol type="1">
<li>Allais paradox</li>
<li>Prospect theory</li>
<li>Framing
<ul>
<li>Special type of Framing: Mental accounting</li>
</ul></li>
</ol>
</section>
<section id="violations-of-expected-utility-theory-allais-paradx" class="slide level2">
<h2>Violations of Expected Utility Theory: Allais Paradx</h2>
<div style="height: 2em;">

</div>
<p><strong>Developed by Maurice Allais in 1953</strong></p>
<div style="height: 2em;">

</div>
<p><strong>Experiment 1:</strong> Which lottery do you prefer?</p>
<p>Lottery A: Get $1M for sure.</p>
<p>Lottery B: Get $0 with prob. 1%, $1M with prob. 89%, and $5M with prob. 10%.</p>
<div style="height: 2em;">

</div>
<p><strong>Experiment 2:</strong> Which lottery do you prefer?</p>
<p>Lottery A: Get $0 with prob. 89%, get $1M with 11% prob.</p>
<p>Lottery B: Get $0 with prob. 90%, get $5M with 10% prob.</p>
</section>
<section id="allais-paradox" class="slide level2">
<h2>Allais Paradox</h2>
<div style="height: 2em;">

</div>
<p>In the first experiment, most people <strong>choose A,</strong> which means:</p>
<p><span class="math inline">U(1, 000, 000) &gt; 0.89U(1, 000, 000) + 0.1U(5, 000, 000)</span> if <span class="math inline">U(0) = 0</span></p>
<p>Organize this expression, we get:</p>
<p><span class="math inline">0.11U(1, 000, 000) &gt; 0.1U(5, 000, 000)</span></p>
</section>
<section id="allais-paradox-1" class="slide level2">
<h2>Allais Paradox</h2>
<div style="height: 2em;">

</div>
<p>In the second experiment, most people <strong>choose B,</strong> which means:</p>
<p><span class="math inline">0.11U(1, 000, 000) &lt; 0.1U(5, 000, 000)</span></p>
<p>Did you notice the preference sign flipping from &gt; in A to &lt; in B?</p>
<p><strong>This contradicts the previous results!</strong></p>
</section>
<section id="violations-of-expected-utility-theory2-prospect-theory" class="slide level2">
<h2>Violations of Expected Utility Theory(2): Prospect Theory</h2>
<p><strong>Developed by Daniel Kahneman and Amos Tversky</strong></p>

<img data-src="version_00/Figures/kahneman_tversky.jpg" style="width:70.0%" class="r-stretch"></section>
<section id="prospect-theory" class="slide level2">
<h2>Prospect Theory</h2>
<div style="height: 2em;">

</div>
<p><strong>Experiment 3:</strong> Choose one lottery that you prefer</p>
<p>A: you get $250 for sure;</p>
<p>B: you get $0 with probability 75%; and you get $1000 with probability 25%.</p>
<div style="height: 2em;">

</div>
<p><strong>Experiment 4:</strong> Choose one lottery that you prefer</p>
<p>A*: you lose $750 for sure;</p>
<p>B*: you lose $1000 with probability 75% and you lose nothing with probability 25%</p>
</section>
<section id="prospect-theory-1" class="slide level2">
<h2>Prospect Theory</h2>
<div style="height: 2em;">

</div>
<p><strong>Experiment 3:</strong> Choose one lottery that you prefer</p>
<p>A: you get $250 for sure;</p>
<p>B: you get $0 with probability 75%; and you get $1000 with probability 25%.</p>
<div style="height: 2em;">

</div>
<p><strong>Experiment 4:</strong> Choose one lottery that you prefer</p>
<p>A*: you lose $750 for sure;</p>
<p>B*: you lose $1000 with probability 75% and you lose nothing with probability 25%</p>
<p><strong>Observation 1:</strong> People tend to sometimes exhibit risk aversion and sometimes exhibit risk seeking, <strong>dependent on the nature of the prospects.</strong></p>
</section>
<section id="prospect-theory-2" class="slide level2">
<h2>Prospect Theory</h2>
<div style="height: 2em;">

</div>
<p><strong>Experiment 5.A:</strong> Suppose that you have $300 in your pocket. Choose one lottery that you prefer:</p>
<p>A: you get $100 for sure;</p>
<p>B: you get $0 with probability 50%; and you get $200 with probability 50%;</p>
<div style="height: 2em;">

</div>
<p><strong>Experiment 5.B:</strong> Suppose that you have $500 in your pocket. Choose one lottery that you prefer:</p>
<p>A: you lose $100 for sure;</p>
<p>B: you lose nothing with probability 50%; and you lose $200 with probability 50%;</p>
</section>
<section id="prospect-theory-3" class="slide level2">
<h2>Prospect Theory</h2>
<div style="height: 2em;">

</div>
<p><strong>Experiment 5.A:</strong> Suppose that you have $300 in your pocket. Choose one lottery that you prefer:</p>
<p>A: you get $100 for sure;</p>
<p>B: you get $0 with probability 50%; and you get $200 with probability 50%;</p>
<div style="height: 2em;">

</div>
<p><strong>Experiment 5.B:</strong> Suppose that you have $500 in your pocket. Choose one lottery that you prefer:</p>
<p>A: you lose $100 for sure;</p>
<p>B: you lose nothing with probability 50%; and you lose $200 with probability 50%;</p>
<p><strong>Observation 2:</strong> People’s valuation of prospects depend on gains and losses relative to a reference point.</p>
</section>
<section id="prospect-theory-4" class="slide level2">
<h2>Prospect Theory</h2>
<div style="height: 2em;">

</div>
<p><strong>Experiment 6:</strong> What value of x would make you indifferent in choosing between lotteries A and B?</p>
<p>A: you get nothing with probability 100%;</p>
<p>B: you get <span class="math inline">x</span> with probability 50% and you lose $25 with probability 50%.</p>
</section>
<section id="prospect-theory-5" class="slide level2">
<h2>Prospect Theory</h2>
<div style="height: 2em;">

</div>
<p><strong>Experiment 6:</strong> What value of x would make you indifferent in choosing between lotteries A and B?</p>
<p>A: you get nothing with probability 100%;</p>
<p>B: you get <span class="math inline">x</span> with probability 50% and you lose $25 with probability 50%.</p>
<p><strong>Observation 3:</strong> People are particularly averse to losses because losses loom larger than gains.</p>
</section>
<section id="prospect-theory-6" class="slide level2">
<h2>Prospect Theory</h2>
<div style="height: 2em;">

</div>
<p><strong>Experiment 7a:</strong> You purchased a stock for $50 and it is now selling at $40. You have a paper loss of $10 per share. In the next period, it is equally likely that it will increase or decrease by $10. Would you:</p>
<ul>
<li>Sell the stock and realize a $10 loss?</li>
</ul>
<p>OR</p>
<ul>
<li>Hold on for a <span class="math inline">50/50</span> shot at another loss or breaking even?</li>
</ul>
</section>
<section id="prospect-theory-7" class="slide level2">
<h2>Prospect Theory</h2>
<div style="height: 2em;">

</div>
<p><strong>Experiment 7b:</strong> You purchased a stock for $50 and it is now selling at $60. You have a paper gain of $10 per share. In the next period, it is equally likely that it will increase or decrease by $10. Would you:</p>
<ul>
<li>Sell the stock and realize a $10 gain?</li>
</ul>
<p>OR</p>
<ul>
<li>Hold on for a <span class="math inline">50/50</span> shot at another gain or breaking even?</li>
</ul>
</section>
<section id="prospect-theory-8" class="slide level2">
<h2>Prospect Theory</h2>
<div style="height: 2em;">

</div>
<p><strong>Experiment 7b:</strong> You purchased a stock for $50 and it is now selling at $60. You have a paper gain of $10 per share. In the next period, it is equally likely that it will increase or decrease by $10. Would you:</p>
<ul>
<li>Sell the stock and realize a $10 gain?</li>
</ul>
<p>OR</p>
<ul>
<li>Hold on for a <span class="math inline">50/50</span> shot at another gain or breaking even?</li>
</ul>
<p><strong>Observation 4:</strong> Losers become more willing to take on risk in an attempt to break even. This finding is thank to Richard Thaler.</p>
</section>
<section id="prospect-theory-9" class="slide level2">
<h2>Prospect Theory</h2>
<div style="height: 2em;">

</div>
<p>People give a much higher weight on probability changes in extremes (e.g., close to 0% or 100%) relative to probability changes in normal ranges;</p>
<p><strong>Example 1:</strong> A patient is willing to pay much more if a medication can change the probability of full recovery from no chance to 1% vs.&nbsp;from 50% to 51%.</p>
<p><strong>Example 2:</strong> In Canada, the probability of winning a big lottery is 1 in 13,983,816; you are more likely to:</p>
<ul>
<li>Be killed in a terrorist attack while travelling (1 in 650,000).</li>
<li>Be killed by lightning (1 in 56,439).</li>
</ul>
</section>
<section id="prospect-theory-10" class="slide level2">
<h2>Prospect Theory</h2>
<div style="height: 2em;">

</div>
<p>People give a much higher weight on probability changes in extremes (e.g., close to 0% or 100%) relative to probability changes in normal ranges;</p>
<p><strong>Example 1:</strong> A patient is willing to pay much more if a medication can change the probability of full recovery from no chance to 1% vs.&nbsp;from 50% to 51%.</p>
<p><strong>Example 2:</strong> In Canada, the probability of winning a big lottery is 1 in 13,983,816; you are more likely to:</p>
<ul>
<li>Be killed in a terrorist attack while travelling (1 in 650,000).</li>
<li>Be killed by lightning (1 in 56,439).</li>
</ul>
<p><strong>Observation 5:</strong> People <strong>overweight extreme probabilities and underweight normal probabilities.</strong></p>
</section>
<section id="prospect-theory---value-functions-and-their-weights" class="slide level2">
<h2>Prospect Theory - Value Functions and Their Weights</h2>
<div style="height: 2em;">

</div>
<p>Kahneman and Tversky (1979): Prospect utility is developed to reconcile the violations of expected utility theory.</p>
<p>Value function: prospect utility function</p>
<ul>
<li><strong><span class="math inline">U(x)= \sum_{i=1}^N w(p_i) v(x_i)</span></strong></li>
<li>where x is a state-dependent payoff.</li>
<li><span class="math inline">w(.)</span> is the weight function so that</li>
<li><span class="math inline">v(.)</span> is the value function, it is convex when <span class="math inline">x&lt;0</span> and concave when <span class="math inline">x&gt;0</span>.</li>
</ul>
<p>The key insights of prospect theory:</p>
<ul>
<li>assign higher weight on low-probability event when the payoff is negative;</li>
<li>assign higher weight on certainty when the payoff is positive;</li>
<li>assign higher weight when the probabilities are close to extremes.</li>
</ul>
</section>
<section id="prospect-theory-11" class="slide level2">
<h2>Prospect Theory</h2>
<h4 id="value-functions-and-their-weights">Value functions and their weights</h4>

<img data-src="version_00/Figures/prospect2.jpg" style="width:80.0%" class="r-stretch"></section>
<section id="prospect-theory-in-sports" class="slide level2">
<h2>Prospect Theory in Sports</h2>
<p>Prospect theory says that losses hurt more than gains. Let’s apply this thinking to sport coaches …</p>
<ul>
<li>In hockey, if down by one goal, coaches usually pull out the goalie for an extra attacker with 1 or 2 minutes left.</li>
<li><a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3132563">Research shows</a> that it is optimal based on the probabilities for a coach to pull the goalie when there is 6 minutes left in the game.</li>
<li>Doing so, it would increase the expected number of points at the end of the season by 3 points. Might sound small, but enough for many teams to make the playoffs.</li>
<li>Why are coaches not more tempted to pull goalies earlier in the game?</li>
</ul>
</section>
<section id="prospect-theory-in-sports-1" class="slide level2">
<h2>Prospect Theory in Sports</h2>
<ul>
<li>Say that you are down 0-1, and you pull the goalie with 6 min left and lose 0-5, does the coach looks stupid? Yes, to many that don’t understand probabilities. A coach prefers to lose 0-1 or 0-2 than 0-5. The coach looks more credible, more likely to keep is job.</li>
<li>If a coach plays the probabilities, he might look wild, increase the likelihood to get fired, even though he makes the right choice.</li>
<li>Hence, the psychological reflexion in the mind of the coach is that being scored by pulling the goalie to early hurts more (loss) than actually scoring and tie the game (gain).</li>
<li>The same can be said for 4<span class="math inline">^{th}</span> down play in football.</li>
</ul>
</section>
<section id="implications-of-prospect-theory-to-financial-market" class="slide level2">
<h2>Implications of Prospect Theory to Financial Market</h2>
<ol type="1">
<li>The disposition effect
<ul>
<li>Odean (1998)</li>
<li>Frazzini (2006)</li>
</ul></li>
<li>Equity risk premium puzzle
<ul>
<li>Benartzi and Thaler (1995)</li>
</ul></li>
</ol>
</section>
<section id="disposition-effect" class="slide level2">
<h2>Disposition Effect</h2>
<p>The disposition effect is the tendency of individual investors to sell assets whose price has increased and keep assets that have dropped in value;</p>
<ul>
<li>A direct implication of the prospect theory.</li>
<li>This is puzzling. Stocks that have recently done well continue to outperform, on average, while those that have done poorly continue to underperform. As such, investors should concentrate their selling among stocks with poor past performance—but they do the opposite.</li>
</ul>
</section>
<section id="disposition-effect-1" class="slide level2">
<h2>Disposition Effect</h2>
<p><strong>Why is this related to prospect theory?</strong></p>
<p>The intuition is that, if a stock performs poorly (great), this brings its owner in to the loss (gain) stock region of the value function, where, because of the convexity (concavity), the owner becomes risk-seeking (risk-averse). As a result, investor holds on to (sells) the stock in the hope of breaking even later on.</p>
</section>
<section id="are-investors-reluctant-to-realize-their-losses-odean-1998" class="slide level2">
<h2>Are Investors Reluctant to Realize Their Losses? (Odean, 1998)</h2>
<p>Terry Odean examines the disposition effect, the tendency of investors to hold losing investments too long and sell winning investments too soon, by analyzing trading records for 10,000 accounts at a large discount brokerage house.</p>
</section>
<section class="slide level2">

<h3 id="definitions">Definitions:</h3>
<ul>
<li>Realized gain (losses) is your return after selling the asset.</li>
<li>Paper gain (losses) is your return that is not yet realized, i.e., you haven’t sold the asset yet.</li>
</ul>
<h3 id="findings">Findings:</h3>
<p><img data-src="version_00/Figures/Odean1.png" class="absolute" style="top: 200px; right: 0px; width: 50%; "></p>
<ul>
<li>Investors hold winning stocks for 102 days and losing stocks for 124 days..</li>
<li>Why look at December separately?</li>
</ul>
</section>
<section id="bonus-recent-interview-with-terry-odean" class="slide level2">
<h2>Bonus: Recent interview with Terry Odean</h2>
<div style="height: 2em;">

</div>
<p>Terry explains his research since 1998 in this <a href="https://www.youtube.com/watch?v=Y2ECnsx1cvs">interview</a></p>
</section>
<section id="disposition-effect-2" class="slide level2">
<h2>Disposition Effect</h2>
<p>The “disposition effect” is the tendency to sell assets that have gained value (‘winners’) and keep assets that have lost value (‘losers’).</p>
<p>Bonus: <a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/j.1540-6261.1985.tb05002.x">Original study</a> that coined the term “disposition effect”</p>
</section>
<section id="the-disposition-effect-and-underreaction-to-news" class="slide level2">
<h2>The Disposition Effect and Underreaction to News</h2>
<p>If you recall from the first class, I showed you a plot of price underreaction to earnings announcements. In the paper titled <a href="https://onlinelibrary.wiley.com/doi/full/10.1111/j.1540-6261.2006.00896.x?casa_token=WPM4cfaZRC4AAAAA%3A8DhfgxdlUNHpwriRoSAZRk2ENbRmqBUjVuAz9Cw7MVwcbbrn4kf3fFy5sR5Bkpvd3yajEpWUjPRF">“The Disposition Effect and Underreaction to News”</a>, Frazzini (2006) proposes that the disposition effect can explain (in part) such finding.</p>
<ul>
<li>Frazzini has a “reference price”, which is the aggregate price at which mutual funds paid for a particular stock on each month and examines whether prices underreact more to news (earnings announcements) if the stock price is in <strong>capital gain or losses</strong>.</li>
<li>Let’s examine the theoretical arguments of Frazzini followed by its empirical exercise.</li>
</ul>
</section>
<section id="theoretical-findings" class="slide level2">
<h2>Theoretical findings</h2>

<img data-src="version_00/Figures/frazzini1.PNG" class="quarto-figure quarto-figure-center r-stretch" style="width:60.0%"><p>Prefer not to “not sell” because .5U(50) + .5U(30) &gt; U(40) since U is a convex function.</p>
</section>
<section id="theoretical-findings-1" class="slide level2">
<h2>Theoretical findings</h2>

<img data-src="version_00/Figures/frazzini2.PNG" class="quarto-figure quarto-figure-center r-stretch" style="width:60.0%"><p>Prefer to “sell” because .5U(50) + .5U(70) &lt; U(60) since U is a concave function.</p>
</section>
<section id="implications-to-bad-earnings-news" class="slide level2">
<h2>Implications to bad earnings news</h2>

<img data-src="version_00/Figures/frazzini3.PNG" class="quarto-figure quarto-figure-center r-stretch" style="width:70.0%"><p>Why a slow price drift for capital loss? Because following a negative news, people are <strong>not selling</strong>, limiting the the speed at which the price reaches its new equilibrium value.</p>
</section>
<section id="implications-to-good-earnings-news" class="slide level2">
<h2>Implications to good earnings news</h2>

<img data-src="version_00/Figures/frazzini4.PNG" class="quarto-figure quarto-figure-center r-stretch" style="width:70.0%"><p>Why slow price drift for capital gain? Because following a positive news, people <strong>are selling</strong>, selling puts a downward pressure on the price limiting the speed at which the price reaches its new equilibrium value.</p>
</section>
<section id="main-empirical-findings-of-frazzini-2006" class="slide level2">
<h2>Main empirical findings of Frazzini (2006)</h2>
<p>Frazzini confirms his hypothesis empirically. He first calculates capital gains (losses) overhang as the percentage deviation of the aggregate cost basis from the current price:</p>
<p><span class="math inline">g_t = \frac{p_t − rp_t}{p_t}</span></p>
<p>where <span class="math inline">p_t</span> is the current price and <span class="math inline">rp_t</span> is the reference price of the aggregate investor calculated from mutual fund holdings. Think about it as the “mental” gain (or loss).</p>
<p>He then examines on each month, based on the previous earnings announcement news (at <span class="math inline">t-1</span>, <span class="math inline">t-2</span> or <span class="math inline">t-3</span>), if the monthly price on month <span class="math inline">t</span>, month <span class="math inline">t + 1</span>, and so on show price drifts consistent with the figures on the previous slides and he does.</p>
</section>
<section id="violations-of-expected-utility-theory3-framing" class="slide level2">
<h2>Violations of Expected Utility Theory(3): Framing</h2>

<img data-src="version_00/Figures/arrows.png" class="quarto-figure quarto-figure-center r-stretch" style="width:50.0%"></section>
<section id="framing---experiment" class="slide level2">
<h2>Framing - Experiment</h2>
<p><strong>(Group Left) Experiment 1:</strong> Imagine that Canada is preparing for an unusual disease, which is expected to kill 600 people. Two alternative plans, A and B, are proposed to combat the disease. The consequences of two plans are provided as follows:</p>
<ul>
<li>Plan A: 200 people will be saved for sure;</li>
<li>Plan B: there are 1/3 probability that all 600 people will be saved and 2/3 probability that none will be saved;</li>
</ul>
<p>If you are the Prime Minister, which one will you choose?</p>
</section>
<section id="framing---experiment-1" class="slide level2">
<h2>Framing - Experiment</h2>
<p><strong>(Group Right) Experiment 2:</strong> Imagine that Canada is preparing for an unusual disease, which is expected to kill 600 people. Two alternative plans, A and B, are proposed to combat the disease. The consequences of two plans are provided as follows:</p>
<ul>
<li>Plan A*: 400 people will die for sure;</li>
<li>Plan B*: there are 1/3 probability that nobody will die and 2/3 probability that all 600 people will die.</li>
</ul>
<p>If you are the Prime Minister, which one will you choose?</p>
</section>
<section id="framing---experiment-2" class="slide level2">
<h2>Framing - Experiment</h2>
<p>Take a careful look at Experiment 8 and Experiment 9, what do you see?</p>
<ul>
<li>They are essentially the same!</li>
<li>Then why we have so different choices?</li>
</ul>
<p>A decision frame is defined to be a decision maker’s view or perception of the problem and possible outcome.</p>
<p>In Experiments 8 and 9 we show that the decisions can be affected by different framing of a same question.</p>
<ul>
<li>Therefore, the way we present information matters!</li>
<li>It is a clear violation of expected utility theory, which states that same probability distribution and same state-dependent outcomes lead to the same level of utility.</li>
</ul>
</section>
<section id="framing" class="slide level2">
<h2>Framing</h2>
<p>Tversky and Kahneman refer to framing as choices made by agents that depend on the way a problem is posed as much as on the objective features of a problem.</p>
<ul>
<li>With a traditional economic theory framework, framing cannot alter behavior!</li>
</ul>
</section>
<section id="framing-1" class="slide level2">
<h2>Framing</h2>
</section>
<section id="how-to-manipulate-your-audience" class="slide level2">
<h2>How to manipulate your audience</h2>
<p>In general, the way we frame a problem or a question can illicit the behavior we want from someone (i.e., manipulation).</p>
<p>For instance, regarding COVID, Trump framed the issue as “save the economy or lock everything down” - as if it was a binary decision. A good strategy to fire up its base!</p>
<p>Binary framing is often suboptimal. It masks the possibility of other alternatives, or pursuing one decision in some places or situations and a different one in others.</p>
</section>
<section id="a-special-type-of-framing-mental-accounting" class="slide level2">
<h2>A Special Type of Framing: Mental Accounting</h2>
<p>Mental Accounting is a set of cognitive operations used by individuals to organize, evaluate and keep track of financial activities.</p>
<ul>
<li>I.e., Different items are categorized and “recorded” in different accounts.</li>
<li>Concept develop by Richard Thaler (1985) - see <a href="https://pubsonline.informs.org/doi/abs/10.1287/mksc.4.3.199">original study</a> in Marketing Science and for a general overview the following <a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/(SICI)1099-0771(199909)12:3%3C183::AID-BDM318%3E3.0.CO;2-F?casa_token=m2pabKBNAIEAAAAA:UHcyCd9vKuIJ9LfooEi7NbGOgJ894PlFFr7XtiCdstJwMaNVEyLjbpl5dIpOoSCu0RUdv6GBNuBR">study</a>.</li>
</ul>
</section>
<section id="mental-accounting-different-scenarios-thaler-1985" class="slide level2">
<h2>Mental Accounting: Different scenarios (Thaler, 1985)</h2>
<ol type="1">
<li><p>Mr.&nbsp;and Mrs.&nbsp;L and Mr.&nbsp;and Mrs.&nbsp;H went on a fishing trip in the northwest and caught some salmon. They packed the fish and sent it home on an airline, but the fish were lost in transit. They received $300 from the airline. The couples take the money, go out to dinner and spend $225. They had never spent that much at a restaurant before.</p></li>
<li><p>Mr.&nbsp;X is up $50 in a monthly poker game. He has a queen high flush and calls a $10 bet. Mr.&nbsp;Y owns $100 shares of IBM which went up to 50% today and is even in the poker game. He has a king high flush but he folds. When X wins, Y thinks to himself, “If I had been up $50 I would have called too.”</p></li>
</ol>
</section>
<section id="mental-accounting-different-scenarios-thaler-1985-1" class="slide level2">
<h2>Mental Accounting: Different scenarios (Thaler, 1985)</h2>
<ol start="3" type="1">
<li><p>Mr.&nbsp;and Mrs.&nbsp;J have saved $15,000 toward their dream vacation home. They hope to buy the home in five years. The money earns 10% in a money market account. They just bought a new car for $11,000 which they financed with a three-year car loan at 15%.</p></li>
<li><p>Mr.&nbsp;S admires a $125 cashmere sweater at the department store. He declines to buy it, feeling that it is too extravagant. Later that month he receives the same sweater from his wife for a birthday present. He is very happy. Mr.&nbsp;and Mrs.&nbsp;S have only joint bank accounts.</p></li>
</ol>
</section>
<section id="mental-accounting-different-scenarios-thaler-1985-2" class="slide level2">
<h2>Mental Accounting: Different scenarios (Thaler, 1985)</h2>
<p>All the examples on the previous slide is a clear violation of expected utility theory since whether items are in the same account or different accounts should be irrelevant in expected utility theory.</p>
<ul>
<li>In (1), it violates the principle of <strong>fungibility</strong>. Money is not supposed to have labels attached to it. Yet, they treat the $300 into a “windfall” and “food” account. If, instead, they get a $300 increase in their monthly salary, do you think they would have gone to that expensive restaurant?</li>
</ul>
</section>
<section id="mental-accounting-different-scenarios-thaler-1985-3" class="slide level2">
<h2>Mental Accounting: Different scenarios (Thaler, 1985)</h2>
<p>All the examples on the previous slides is a clear violation of expected utility theory since whether items are in the same account or different accounts should be irrelevant in expected utility theory.</p>
<ul>
<li><p>In (1), it violates the principle of <strong>fungibility</strong>. Money is not supposed to have labels attached to it. Yet, they treat the $300 into a “windfall” and “food” account. If, instead, they get a $300 increase in their monthly salary, do you think they would have gone to that expensive restaurant?</p></li>
<li><p>In (2), it also violates the principle of <strong>fungibility</strong> (there shouldn’t be a distinction between your poker and investment money account).</p></li>
</ul>
</section>
<section id="summary" class="slide level2">
<h2>Summary</h2>
<p>We review the neoclassical utility functions and the notions of risk attitude;</p>
<p>We review the expected utility theory;</p>
<p>We discuss the Allais Paradox and show the following violations of expected utility theory</p>
<ul>
<li>Prospect utility</li>
<li>Framing and mental accounting</li>
</ul>
<div class="quarto-auto-generated-content">
<p><img src="../logos/uoft.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>MGFD40</p>
</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="lecture_02_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="lecture_02_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="lecture_02_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="lecture_02_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="lecture_02_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="lecture_02_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="lecture_02_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="lecture_02_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="lecture_02_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="lecture_02_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>